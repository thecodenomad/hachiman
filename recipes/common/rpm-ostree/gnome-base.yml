modules:
    - type: rpm-ostree
      install:
          - nautilus-python # Required for collision plugin
      remove:
          # These will be installed via flatpak post install
          - gnome-classic-session-xsession
          - gnome-classic-session
          - firefox
          - firefox-langpacks
          - gnome-software-rpm-ostree
          - gnome-tour
          - gnome-initial-setup
          - gnome-system-monitor
          - gnome-shell-extension-apps-menu
          - gnome-shell-extension-launch-new-instance
          - gnome-shell-extension-places-menu
          - gnome-shell-extension-window-list
          - gnome-shell-extension-background-logo

    # Install Upstream RPMS
    # TODO: Switch to homebrew? Ughhhh....
    - type: rpm-ostree
      install:
          # Maintain dotfiles
          - https://github.com/twpayne/chezmoi/releases/download/v2.52.4/chezmoi-2.52.4-x86_64.rpm
          # Object-Based VT
          - https://dl.waveterm.dev/releases-w2/waveterm-linux-x86_64-0.8.10.rpm

    # Install Starship
    - type: rpm-ostree
      repos:
          # when including COPR repos, use the %OS_VERSION% magic string
          - https://copr.fedorainfracloud.org/coprs/atim/starship/repo/fedora-%OS_VERSION%/atim-starship-fedora-%OS_VERSION%.repo
      install:
          - starship

    # Install the minimum required flatpaks
    - type: default-flatpaks
      notify: true
      system:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      repo-name: flathub-system
      repo-title: "Flathub (System)" # Optional; this sets the remote's user-facing name in graphical frontends like GNOME Software
      install:
          - org.gnome.Calculator
          - org.gnome.Characters
          - org.gnome.baobab
          - org.gnome.font-viewer
          - org.gnome.Logs
          - org.gnome.Maps
          - org.gnome.Photos
          - org.gnome.NautilusPreviewer
          - org.gnome.Weather
          # Hachiman Defaults
          - dev.geopjr.Collision
          - org.gnome.DejaDup
          - org.gnome.Extensions
          - com.mattjakeman.ExtensionManager
          - org.fedoraproject.MediaWriter
          - org.gustavoperedo.FontDownloader
          - org.gnome.Firmware
          - com.github.tchx84.Flatseal
          - org.gnome.Loupe
          - io.gitlab.librewolf-community
          - io.missioncenter.MissionCenter
          - app.devsuite.Ptyxis
      user:
          repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
          repo-name: flathub-user
          repo-title: "Flathub"

    # Default Extensions
    - from-file: common/gnome-extensions/40.yml
